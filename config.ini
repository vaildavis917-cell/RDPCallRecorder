; ============================================================
; RDP Call Recorder Agent — Конфигурация
; Версия: 2.0
; ============================================================
; Этот файл должен лежать рядом с RDPCallRecorder.exe
; Все параметры имеют значения по умолчанию.

[Recording]
; Путь для сохранения записей.
; Структура: {RecordingPath}\{Username}\{YYYY-MM-DD}\{Дата}_{Юзер}_{Приложение}_{Время}.mp3
RecordingPath=D:\CallRecordings

; Формат записи: mp3, wav
AudioFormat=mp3

; Битрейт MP3 (рекомендуется 128000 для голоса)
MP3Bitrate=128000

[Monitoring]
; Интервал проверки активности звонков (секунды). Рекомендуется 2.
PollInterval=2

; Порог тишины: сколько циклов подряд нет аудио, прежде чем остановить запись.
; При PollInterval=2 и SilenceThreshold=3 — запись остановится через ~6 сек тишины.
SilenceThreshold=3

[Processes]
; Список процессов для мониторинга (через запятую)
TargetProcesses=WhatsApp.exe,Telegram.exe,Viber.exe

[Logging]
EnableLogging=true
LogLevel=INFO
MaxLogSizeMB=10

[Advanced]
; Скрывать окно (true для production)
HideConsole=true

; Мьютекс — один экземпляр на RDP-сессию
UseMutex=true
MutexName=Global\RDPCallRecorderAgentMutex

; Приоритет процесса (BelowNormal — минимальная нагрузка)
ProcessPriority=BelowNormal

; Автоматически прописывать себя в автозапуск при первом запуске
AutoRegisterStartup=true

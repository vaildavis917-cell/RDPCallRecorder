; ============================================================
; RDP Call Recorder Agent — Конфигурация
; Версия: 2.4
; ============================================================
; Этот файл должен лежать рядом с RDPCallRecorder.exe
; Все параметры имеют значения по умолчанию.

[Recording]
; Путь для сохранения записей.
; Структура: {RecordingPath}\{ПолноеИмя}\{YYYY-MM-DD}\{Дата}_{ПолноеИмя}_{Приложение}_{Время}.mp3
; ПолноеИмя берётся из профиля Windows (например: Nicole, Vladislav AFF)
; Путь по умолчанию: %USERPROFILE%\CallRecordings
; Оставьте пустым для автоопределения, или укажите свой путь
RecordingPath=

; Формат записи: mp3, wav
AudioFormat=mp3

; Битрейт MP3 (рекомендуется 128000 для голоса)
MP3Bitrate=128000

[Monitoring]
; Интервал проверки активности звонков (секунды). Рекомендуется 2.
PollInterval=2

; Порог тишины: сколько циклов подряд нет аудио, прежде чем остановить запись.
; При PollInterval=2 и SilenceThreshold=3 — запись остановится через ~6 сек тишины.
SilenceThreshold=3

; Порог старта: сколько циклов подряд РЕАЛЬНЫЙ звук должен быть активен,
; прежде чем начать запись. Защищает от ложных срабатываний на уведомления.
; При PollInterval=2 и StartThreshold=2 — запись начнётся через ~4 сек непрерывного звука.
; Увеличьте до 3-4 если уведомления всё ещё вызывают запись.
StartThreshold=2

[Processes]
; Список процессов для мониторинга (через запятую)
TargetProcesses=WhatsApp.exe,Telegram.exe,Viber.exe

[Logging]
EnableLogging=true
LogLevel=INFO
MaxLogSizeMB=10

[Advanced]
; Скрывать окно (true для production)
HideConsole=true

; Мьютекс — один экземпляр на RDP-сессию
UseMutex=true
MutexName=Global\RDPCallRecorderAgentMutex

; Приоритет процесса (BelowNormal — минимальная нагрузка)
ProcessPriority=BelowNormal

; Автоматически прописывать себя в автозапуск при первом запуске
AutoRegisterStartup=true
